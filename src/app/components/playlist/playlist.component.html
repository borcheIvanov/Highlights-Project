@if (videoIndex >= 0) {
  <div class="player-controls" aria-label="Playlist controls">
    <button type="button" class="nav-btn" (click)="playPrevious()" [disabled]="!canPrev" aria-label="Previous video">
      ‹
    </button>
    <div class="now-playing" aria-live="polite">
      <div class="np-title">{{ title }}</div>
    </div>
    <button type="button" class="nav-btn" (click)="playNext()" [disabled]="!canNext" aria-label="Next video">
      ›
    </button>
  </div>
}

<div class="playlist" role="list">
  @for (video of videos; track video; let i = $index) {
    <button
      type="button"
      class="video"
      [class.playingVideo]="i === videoIndex"
      (click)="playVideo(video.id.videoId, video.snippet.title, video.snippet.description, i)"
      role="button"
      [attr.aria-current]="i === videoIndex ? 'true' : null"
    >
      <img class="thumb" [src]="video.snippet.thumbnails.default.url || video.snippet.thumbnails.default.url" alt="Thumbnail" />
      <div class="meta">
        <div class="video-title">{{ video.snippet.title }}</div>
      </div>
    </button>
  }
</div>
